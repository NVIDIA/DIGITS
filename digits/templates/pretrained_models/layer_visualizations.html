{# Copyright (c) 2014-2016, NVIDIA CORPORATION.  All rights reserved. #}

{% from "helper.html" import print_flashes %}

{% extends "layout.html" %}

{% block head %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/layerVisualizationLayout.css') }}">
<script src="{{ url_for('static', filename='js/chroma.min.js') }}" ></script>
<script src="{{ url_for('static', filename='js/pretrained_models/LayerVisualizations.js') }}" ></script>
<script src="{{ url_for('static', filename='js/layer_visualizations/dagre-d3.min.js') }}" ></script>
<script src="{{ url_for('static', filename='js/layer_visualizations/caffeTree.js') }}" ></script>
<script src="{{ url_for('static', filename='js/layer_visualizations/torchTree.js') }}" ></script>
<script src="{{ url_for('static', filename='js/layer_visualizations/readCaffeModel.js') }}" ></script>
<script src="{{ url_for('static', filename='js/layer_visualizations/readTorchModel.js') }}" ></script>

{% endblock %}

{% block nav %}
<li class="active"><a href="#">Layer Visualizations</a></li>
{% endblock %}

{% block content %}

<div class="fixed-fluid-container">
  <div class="layout-left">
    <div class="panel panel-default text-center" style="padding:3px;overflow-x:hidden;">
      <h3 class="text-center">{{job.name}}</h3>
      <h6 class="text-center">{{job.id}}</h6>
      <br/>
    </div>
  </div>
  <div class="layout-right"><div style="overflow:hidden;" class="panel panel-default" id="tree_container"></div></div>
</div>


<script>
  var layerVisualizations = new LayerVisualizations("#tree_container");
  layerVisualizations.initPanel();
  layerVisualizations.initCarousel("#image_carousel");
  layerVisualizations.initJobs("#pretrained_jobs",{jobs: {{[job]|tojson}} });
  layerVisualizations.actions.getOutputs("{{job["id"]}}");
</script>
{% endblock %}
